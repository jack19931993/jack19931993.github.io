!function(a){a.fn.airportAutocomplete=function(){return this.each(function(){$this=a(this);var t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:$this.data("search-uri")+"?query=%QUERY&maxResults=10&maxClassification=4&languageCode="+a("html").attr("lang"),transform:function(t){return a.map(t,function(t){return t.iata||(t.iata=t.cityCode),{value:t.iata+" - "+t.city,airport:t}})}}});$this.typeahead({hint:!1,highlight:!0,minLength:1},{name:"airport",display:"value",source:t,limit:10,templates:{suggestion:function(t){return'<div><span class="airportAutocompleteIata">'+t.airport.iata+"</span>"+t.airport.city+", "+("US"==t.airport.countryCode?t.airport.stateCode:t.airport.countryName)+" &mdash; "+t.airport.name+"</div>"}}}),$this.parent().parent().hasClass("has-float-label")&&($ttSpan=$this.parent(),$labels=$ttSpan.siblings("label").detach(),$labels.insertAfter($this))})}}(jQuery);